<div *ngIf="loading" class="flex justify-content-center p-4">
  <p-progressSpinner [style]="{width: '40px', height: '40px'}"></p-progressSpinner>
</div>

<p-table *ngIf="!loading && artifacts.length > 0"
         [value]="artifacts" [responsive]="true" styleClass="p-datatable-sm">
  <ng-template pTemplate="header">
    <tr>
      <th>Arquivo</th>
      <th>Produto</th>
      <th>Formato</th>
      <th>Tamanho</th>
      <th>Status</th>
      <th>Acoes</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-artifact>
    <tr>
      <td>{{artifact.filename}}</td>
      <td>{{artifact.product}}</td>
      <td><p-tag [value]="artifact.format"></p-tag></td>
      <td>{{artifact.size_bytes ? (artifact.size_bytes / 1024 / 1024 | number:'1.1-1') + ' MB' : '-'}}</td>
      <td><p-tag [value]="artifact.status" [severity]="getStatusSeverity(artifact.status)"></p-tag></td>
      <td>
        <button pButton type="button" icon="pi pi-download" class="p-button-sm p-button-text"
                *ngIf="artifact.download_url" [attr.href]="artifact.download_url"
                pTooltip="Download"></button>
      </td>
    </tr>
  </ng-template>
</p-table>

<div *ngIf="!loading && artifacts.length === 0" class="p-3 text-color-secondary text-center">
  Nenhum artefato disponivel.
</div>
